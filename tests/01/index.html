<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf8"/>
		<title>PDFCanvas test 01</title>

		<script type="text/javascript" src="../../external/jspdf/dist/jspdf.min.js"></script>
		<script type="text/javascript" src="../../dist/PDFCanvas.js"></script>
		<script type="text/javascript">
			window.onload = function () {
				var pdf = new PDFCanvas( 'pdf-canvas-container' );
				//pdf.test();
				var domCanvas = document.getElementById('canvas-container').children[0];
				for ( var c = [domCanvas, pdf], i = 0, k = c.length; i < k; i++ ) {
					var canvas = c[i];
					var ctx = canvas.getContext('2d');

					ctx.fillStyle = "rgb(200,0,0)";
					ctx.fillRect (10, 10, 55, 50);

					ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
					ctx.fillRect (30, 30, 55, 50);

					ctx.fillStyle = "red";
 
					ctx.beginPath();
					ctx.moveTo(30, 30);
					ctx.lineTo(150, 150);

					ctx.bezierCurveTo(60, 70, 60, 70, 70, 150);
					ctx.lineTo(30, 30);
					ctx.fill();
				}
				var iframe = document.createElement('iframe');
				iframe.src = pdf.toDataURL();
				iframe.style.width  = pdf.width+'px';
				iframe.style.height = pdf.height+'px';
				document.getElementById('pdf-canvas-container').appendChild( iframe );
			}
		</script>

	</head>
	<body>
		<div id="canvas-container"><canvas width="400" height="300" style="border:1px solid black"></canvas></div>
		<div id="pdf-canvas-container" style="width:400px;height:300px"></div>
	</body>
</html>